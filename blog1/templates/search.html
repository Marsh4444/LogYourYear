{% extends "base.html" %}
{% block title %}Search - DevThoughts{% endblock %}

{% block content %}

<div class="container mt-4 mb-5">
  <div class="row">

    <!-- LEFT SIDE (Search Results) -->
    <div class="col-12 col-lg-8">

      <div class="card border-0 shadow-sm p-4 p-md-5">

        <!-- Header -->
        <div class="mb-4">
          <span class="badge bg-dark mb-2 px-3 py-2">
            Search
          </span>

          <h2 class="fw-bold mb-2">
            Search Results
          </h2>

          <p class="text-muted small mb-0">
            {% if blogs %}
              Found {{ blogs|length }} result{{ blogs|length|pluralize }} for 
              "<strong>{{ keyword }}</strong>"
            {% else %}
              No results for "<strong>{{ keyword }}</strong>"
            {% endif %}
          </p>
        </div>

        <hr>

        {% if blogs %}
          {% for blog in blogs %}

            <div class="py-4">

              <!-- Title -->
              <h4 class="fw-bold mb-2">
                <a href="{% url 'single_blogs' blog.slug %}" 
                   class="text-decoration-none text-dark">
                  {{ blog.title }}
                </a>
              </h4>

              <!-- Meta -->
              <div class="text-muted small mb-2">
                {{ blog.created_at|timesince }} ago •
                by <strong>{{ blog.author }}</strong> •
                {{ blog.category }}
              </div>

              <!-- Short Description -->
              <p class="text-secondary mb-3">
                {{ blog.short_desc|truncatewords:20 }}
              </p>

              <!-- Button -->
              <a href="{% url 'single_blogs' blog.slug %}" 
                 class="btn btn-sm btn-outline-dark px-3">
                Read More →
              </a>

            </div>

            {% if not forloop.last %}
              <hr>
            {% endif %}

          {% endfor %}
        {% else %}

          <!-- Empty State -->
          <div class="text-center py-5">
            <h5 class="fw-bold mb-3">Nothing Found</h5>
            <p class="text-muted">
              Try searching with a different keyword.
            </p>
          </div>

        {% endif %}

      </div> <!-- End of Search Card -->

    </div> <!-- End of Left Column -->

    <!-- RIGHT SIDE (Sidebar) -->
    {% include "partials/aside.html" %}

  </div> <!-- End of Row -->
</div> <!-- End of Container -->

{% endblock %}